(this["webpackJsonpvrms-client"]=this["webpackJsonpvrms-client"]||[]).push([[0],{21:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),s=(a(26),a(9)),o=a(1),i=a(2),m=(a(27),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=(a[0],a[1],Object(n.useState)(null)),l=Object(o.a)(r,2);l[0],l[1];return Object(n.useEffect)((function(){}),[]),c.a.createElement("div",{className:"flexcenter-container"},c.a.createElement("div",{className:"home"},c.a.createElement("div",{className:"home-headers"},c.a.createElement("h1",null,"VRMS"),c.a.createElement("h2",null,"Volunteer Relationship Management System")),c.a.createElement("div",{className:"home-buttons"},c.a.createElement(i.b,{className:"home-button",to:"/new"},"New"),c.a.createElement(i.b,{className:"home-button",to:"/returning"},"Returning")),c.a.createElement("div",{className:"login-button"},c.a.createElement(i.b,{className:"home-button",to:"/login"},"Login"))))}),u=(a(33),function(e){return c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement(i.b,{to:"/"},"Home")),c.a.createElement("div",{className:"navbar-buttons"},c.a.createElement(i.b,{className:"navbar-button primary",to:"/new"},"New User"),c.a.createElement(i.b,{className:"navbar-button",to:"/returning"},"Returning User"),c.a.createElement(i.b,{className:"navbar-button primary",to:"/admin"},"Dashboard"))))}),f=a(3),p=a.n(f),v=a(6),h=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),l=Object(o.a)(r,2),s=l[0],m=l[1],u=Object(n.useState)(!1),f=Object(o.a)(u,2);f[0],f[1];function h(){return(h=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/events");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,m(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"flexcenter-container"},c.a.createElement("div",{className:"events-list"},c.a.createElement("ul",null,s.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("div",{key:t,className:"event"},c.a.createElement("h4",null,e.name),c.a.createElement(i.b,{to:"/event/".concat(e._id)},"Details")))})))))},E=function(e){return Object(n.useEffect)((function(){}),[]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("div",{className:"dashboard"},c.a.createElement("div",{className:"events"},c.a.createElement("h3",null,"Your Events:"),c.a.createElement(h,null))))},b=function(e){return Object(n.useEffect)((function(){}),[]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("div",{className:"dashboard"},c.a.createElement("h3",null,"Your Volunteer Journey"),c.a.createElement("div",{className:"events"},"Profile"),c.a.createElement("div",{className:"events"},"Events")))},d=(a(35),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),u=m[0],f=m[1],h=Object(n.useState)(),E=Object(o.a)(h,2),b=E[0],d=E[1];function N(){return(N=Object(v.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/events/".concat(e.match.params.id));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,f(n),d(n.checkInReady),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function O(e){return g.apply(this,arguments)}function g(){return(g=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,fetch("/api/events/".concat(e.match.params.id),{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok&&(f(u),d(!b))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),l(!r);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[r,b]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("div",{className:"event"},u&&u.location?c.a.createElement("div",{className:"event-headers"},c.a.createElement("h4",null,u.name),c.a.createElement("p",null,u.date),c.a.createElement("p",null,u.location.city),c.a.createElement("p",null,u.location.state)):c.a.createElement("div",null,"Loading..."),c.a.createElement("div",{className:"set-checkin-button"},u&&!1===b?c.a.createElement(i.b,{to:"/events/".concat(u._id),onClick:function(e){return O(e)}},"OPEN"):c.a.createElement(i.b,{to:"/events/".concat(u._id),onClick:function(e){return O(e)}},"CLOSE"))))}),N=(a(36),function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),u=m[0],f=m[1];function h(){return(h=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,fetch("/api/events?checkInReady=true");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,f(a),l(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),l(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("h3",null,"Events to check-in for below:"),r?c.a.createElement("div",null,"Loading..."):c.a.createElement("div",{className:"event-container"},u.length>0?u.map((function(t,a){return c.a.createElement("div",{key:a,className:"event"},c.a.createElement("div",{className:"event-headers"},c.a.createElement("h4",null,t.name),c.a.createElement("p",null,t.date),c.a.createElement("p",null,t.location.city),c.a.createElement("p",null,t.location.state)),e.newUser?c.a.createElement(i.b,{to:"/checkIn/newUser",className:"checkin-newuser-button"},"New User Check-In"):null,e.returningUser?c.a.createElement(i.b,{to:"/checkIn/returningUser",className:"checkin-newuser-button"},"Returning User Check-In"):null)})):c.a.createElement("div",null,"Check back later...")))}),O=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0];a[1];return Object(n.useEffect)((function(){}),[]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("div",{className:"new"},c.a.createElement("div",{className:"new-headers"},c.a.createElement("h3",null,"Welcome!"),c.a.createElement("h4",null,"Thanks for coming."),c.a.createElement(N,{newUser:r}))))},g=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0];a[1];return Object(n.useEffect)((function(){}),[]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("div",{className:"returning"},c.a.createElement("div",{className:"returning-headers"},c.a.createElement("h3",null,"Welcome Back!"),c.a.createElement("h4",null,"We're happy to see you"),c.a.createElement(N,{returningUser:r}))))},j=function(e){return Object(n.useEffect)((function(){}),[]),c.a.createElement("div",{className:"flexcenter-container"},c.a.createElement("div",{className:"adminlogin"},c.a.createElement("div",{className:"adminlogin-headers"},c.a.createElement("h3",null,"Welcome Back!"),c.a.createElement("h4",null,"Please login below.")),c.a.createElement("div",{className:"adminlogin-buttons"})))},k=a(15);a(37);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var w=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=(i[0],i[1]),u=Object(n.useState)([]),f=Object(o.a)(u,2),h=f[0],E=f[1],b=Object(n.useState)(e&&e.match.params.userType),d=Object(o.a)(b,2),N=d[0],O=(d[1],Object(n.useState)({firstName:"",lastName:"",email:"",currentRole:"",desiredRole:"",answer:""})),g=Object(o.a)(O,2),j=g[0],w=g[1],x=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,fetch("/api/events?FormReady=true");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,m(a),l(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),l(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,fetch("/api/questions");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,E(a),console.log(h),l(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),l(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){return w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},j,Object(k.a)({},e.currentTarget.name,e.currentTarget.value)))},U=function(e){var t=JSON.stringify(e);console.log(t),console.log("Submitting form!")},R=function(){var t=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault();try{l(!0),U(j),console.log("Checking in New User"),l(!1),e.history.push("/magicLink")}catch(n){console.log(n),l(!1)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault();try{l(!0),U(j),console.log("Checking in Returning User"),l(!1),e.history.push("/user")}catch(n){console.log(n),l(!1)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){x(),C()}),[]),c.a.createElement("div",{className:"flex-container"},"returningUser"===N?c.a.createElement("div",{className:"check-in-container"},c.a.createElement("div",{className:"check-in-headers"},c.a.createElement("h3",null,"Welcome Back!"),c.a.createElement("h4",null,"Answer a quick question to unlock the check-in button!")),c.a.createElement("div",{className:"check-in-form"},c.a.createElement("form",{className:"form-returning",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("div",{className:"form-input-text"},c.a.createElement("input",{placeholder:"",type:"text",name:"answer",value:j.answer,"aria-label":"topic",onChange:S})),r?c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-button"},c.a.createElement("button",{type:"submit",className:"form-check-in-submit",onClick:function(e){return e.preventDefault()}},"Checking In..."))):c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-button"},c.a.createElement("button",{type:"submit",className:"form-check-in-submit",onClick:function(e){return D(e)}},"Check In")))))):null,"newUser"===N?c.a.createElement("div",{className:"check-in-container"},c.a.createElement("div",{className:"check-in-headers"},c.a.createElement("h3",null,"Welcome!"),c.a.createElement("h4",null,"Tell us a little bit about yourself!")),c.a.createElement("div",{className:"check-in-form"},c.a.createElement("form",{className:"form-check-in",onSubmit:function(e){return e.preventDefault()}},c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-text"},c.a.createElement("label",{htmlFor:"first-name"},"First Name"),c.a.createElement("input",{type:"text",name:"firstName",value:j.firstName.toString(),"aria-label":"topic",onChange:S}))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-text"},c.a.createElement("label",{htmlFor:"last-name"},"Last Name"),c.a.createElement("input",{type:"text",name:"lastName",value:j.lastName.toString(),"aria-label":"topic",onChange:S}))),c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-text"},c.a.createElement("label",{htmlFor:"email"},"Email Address"),c.a.createElement("input",{type:"email",name:"email",value:j.email.toString(),"aria-label":"topic",onChange:S})),c.a.createElement("p",null,"(This allows easy use of the app. We'll never sell your data!)")),h?h.forEach((function(e){return c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-text"},c.a.createElement("label",{htmlFor:"current-role"},e.questionText),c.a.createElement("input",{type:"text",name:"currentRole",value:j.currentRole.toString(),"aria-label":"topic",onChange:S})))})):null,r?c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-button"},c.a.createElement("button",{type:"submit",className:"form-check-in-submit",onClick:function(e){return e.preventDefault()}},"Checking In..."))):c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"form-input-button"},c.a.createElement("button",{type:"submit",className:"form-check-in-submit",onClick:function(e){return R(e)}},"Check In")))))):null)},x=(a(38),function(e){var t=Object(n.useState)("https://localhost:3000/api/happyURLfuntime"),a=Object(o.a)(t,2);a[0],a[1];function r(){return e.history.push("/user")}return Object(n.useEffect)((function(){setTimeout(r,5e3)}),[]),c.a.createElement("div",{className:"flex-container"},c.a.createElement("div",{className:"new"},c.a.createElement("div",{className:"new-headers"},c.a.createElement("h3",null,"Magic Link Sent"),c.a.createElement("h4",null,"You gotta go click it!"),c.a.createElement("h5",null,"You'll be returned to a page containing a brand spanking new user profile all to yourself!"))))}),C=(a(39),[{path:"/",name:"home",Component:m},{path:"/admin",name:"admindashboard",Component:E},{path:"/user",name:"userdashboard",Component:b},{path:"/event/:id",name:"event",Component:d},{path:"/new",name:"new",Component:O},{path:"/returning",name:"returning",Component:g},{path:"/login",name:"login",Component:j},{path:"/checkIn/:userType",name:"checkIn",Component:w},{path:"/magicLink",name:"magicLink",Component:x}]);var S=function(){return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"app-container"},c.a.createElement(u,null),c.a.createElement("main",{role:"main",className:"main"},C.map((function(e){var t=e.path,a=e.Component;return c.a.createElement(s.a,{key:t,exact:!0,path:t,component:a})})))))};l.a.render(c.a.createElement(i.a,null,c.a.createElement(S,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.47b777ea.chunk.js.map